<div class="lectura noPrint">
 <p>
  <a href="/src/m01notificaciones/index.html" target="_blank"
    rel="nooper">Ábrelo en otra pestaña.</a>
 </p>
 <p>
  <a target="_blank" rel="nooper"
    href="https://gilpgedit.github.io/#%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22es%22%3E%0A%0A%3Chead%3E%0A%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%20%3Cmeta%20name%3D%22viewport%22%0A%20%20%20content%3D%22width%3Ddevice-width%22%3E%0A%20%3Ctitle%3ENotificaciones%3C%2Ftitle%3E%0A%3C%2Fhead%3E%0A%0A%3Cbody%3E%0A%20%3Ch1%3ENotificaciones%3C%2Fh1%3E%0A%20%3Cbutton%20onclick%3D%22notifica()%22%3E%0A%20%20Muestra%0A%20%3C%2Fbutton%3E%0A%20%3Cscript%3E%0A%20%20const%20MENSAJE%20%3D%20%22Hola%22%0A%20%20async%20function%20notifica()%20%7B%0A%20%20%20let%20permitida%20%3D%20false%0A%20%20%20if%20(%22Notification%22%20in%20window)%20%7B%0A%20%20%20%20let%20permiso%20%3D%0A%20%20%20%20%20Notification.permission%0A%20%20%20%20if%20(permiso%20%3D%3D%3D%20%22default%22)%20%7B%0A%20%20%20%20%20permiso%20%3D%20await%20Notification.%0A%20%20%20%20%20%20requestPermission()%0A%20%20%20%20%7D%0A%20%20%20%20permitida%20%3D%0A%20%20%20%20%20permiso%20%3D%3D%3D%20%22granted%22%0A%20%20%20%7D%0A%20%20%20if%20(permitida)%20%7B%0A%20%20%20%20notificacion%20%3D%0A%20%20%20%20%20new%20Notification(MENSAJE)%0A%20%20%20%7D%20else%20%7B%0A%20%20%20%20alert(MENSAJE)%0A%20%20%20%7D%0A%20%20%7D%0A%20%3C%2Fscript%3E%0A%3C%2Fbody%3E%0A%0A%3C%2Fhtml%3E">
   Revísalo en gilpgedit.</a>
 </p>
</div>
<muestra-codigo>
 <div>
  <div><span style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #ff0000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span style="color: #800000;">&lt;html</span> <span
     style="color: #ff0000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;meta</span> <span
     style="color: #ff0000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;meta</span> <span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Notificaciones<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Notificaciones<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;button</span> <span
     style="color: #ff0000;">onclick</span>=<span
     style="color: #0000ff;">"</span><span
     style="color: #795e26;">notifica</span><span
     style="color: #0000ff;">()</span><span
     style="color: #0000ff;">"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp; Muestra</div>
  <div>&nbsp;<span style="color: #800000;">&lt;/button&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;script&gt;</span></div>
  <div>&nbsp; <span style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">MENSAJE</span> = <span
     style="color: #a31515;">"Hola"</span></div>
  <div>&nbsp; <span style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">notifica</span>() {</div>
  <div>&nbsp; &nbsp;<span style="color: #0000ff;">let</span> <span
     style="color: #001080;">permitida</span> = <span
     style="color: #0000ff;">false</span></div>
  <div>&nbsp; &nbsp;<span style="color: #af00db;">if</span> (<span
     style="color: #a31515;">"Notification"</span> <span
     style="color: #0000ff;">in</span> <span
     style="color: #001080;">window</span>) {</div>
  <div>&nbsp; &nbsp; <span style="color: #0000ff;">let</span> <span
     style="color: #001080;">permiso</span> =</div>
  <div>&nbsp; &nbsp; &nbsp;<span
     style="color: #267f99;">Notification</span>.<span
     style="color: #0070c1;">permission</span></div>
  <div>&nbsp; &nbsp; <span style="color: #af00db;">if</span> (<span
     style="color: #001080;">permiso</span> === <span
     style="color: #a31515;">"default"</span>) {</div>
  <div>&nbsp; &nbsp; &nbsp;<span
     style="color: #001080;">permiso</span> = <span
     style="color: #af00db;">await</span> <span
     style="color: #267f99;">Notification</span>.</div>
  <div>&nbsp; &nbsp; &nbsp; <span
     style="color: #795e26;">requestPermission</span>()</div>
  <div>&nbsp; &nbsp; }</div>
  <div>&nbsp; &nbsp; <span
     style="color: #001080;">permitida</span> =</div>
  <div>&nbsp; &nbsp; &nbsp;<span
     style="color: #001080;">permiso</span> === <span
     style="color: #a31515;">"granted"</span></div>
  <div>&nbsp; &nbsp;}</div>
  <div>&nbsp; &nbsp;<span style="color: #af00db;">if</span> (<span
     style="color: #001080;">permitida</span>) {</div>
  <div>&nbsp; &nbsp; <span
     style="color: #001080;">notificacion</span> =</div>
  <div>&nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">new</span> <span
     style="color: #267f99;">Notification</span>(<span
     style="color: #0070c1;">MENSAJE</span>)</div>
  <div>&nbsp; &nbsp;} <span style="color: #af00db;">else</span> {</div>
  <div>&nbsp; &nbsp; <span style="color: #795e26;">alert</span>(<span
     style="color: #0070c1;">MENSAJE</span>)</div>
  <div>&nbsp; &nbsp;}</div>
  <div>&nbsp; }</div>
  <div>&nbsp;<span style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>