<muestra-codigo>
 <div>
  <div><span style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #ff0000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span style="color: #800000;">&lt;html</span> <span
     style="color: #ff0000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;meta</span> <span
     style="color: #ff0000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;meta</span> <span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Modificar<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;h1&gt;</span>Modificar<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;form</span> <span
     style="color: #ff0000;">id</span>=<span
     style="color: #0000ff;">"forma"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp; <span style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp; &nbsp;<span style="color: #800000;">&lt;input</span> <span
     style="color: #ff0000;">type</span>=<span
     style="color: #0000ff;">"hidden"</span> <span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"id"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp; &nbsp;<span style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp; &nbsp; Nombre</div>
  <div>&nbsp; &nbsp; <span style="color: #800000;">&lt;input</span> <span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"nombre"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp; &nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp; <span style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp; <span style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp; &nbsp;<span style="color: #800000;">&lt;a</span></div>
  <div>&nbsp; &nbsp; &nbsp;<span style="color: #ff0000;">href</span>=<span
     style="color: #0000ff;">"index.html"</span><span
     style="color: #800000;">&gt;</span>Cancelar<span
     style="color: #800000;">&lt;/a&gt;</span></div>
  <div>&nbsp; &nbsp;<span
     style="color: #800000;">&lt;button&gt;</span>Guardar<span
     style="color: #800000;">&lt;/button&gt;</span></div>
  <div>&nbsp; &nbsp;<span style="color: #800000;">&lt;button</span> <span
     style="color: #ff0000;">id</span>=<span
     style="color: #0000ff;">"btnElimina"</span></div>
  <div>&nbsp; &nbsp; &nbsp;<span style="color: #ff0000;">type</span>=<span
     style="color: #0000ff;">"button"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp; &nbsp; Eliminar</div>
  <div>&nbsp; &nbsp;<span
     style="color: #800000;">&lt;/button&gt;</span></div>
  <div>&nbsp; <span style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;/form&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;script</span> <span
     style="color: #ff0000;">type</span>=<span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp; <span style="color: #af00db;">import</span> {</div>
  <div>&nbsp; &nbsp;<span style="color: #001080;">ejecuta</span></div>
  <div>&nbsp; } <span style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./lib/ejecuta.js"</span></div>
  <div>&nbsp; <span style="color: #af00db;">import</span> {</div>
  <div>&nbsp; &nbsp;<span style="color: #001080;">submit</span></div>
  <div>&nbsp; } <span style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./lib/submit.js"</span></div>
  <div>&nbsp; <span style="color: #af00db;">import</span> {</div>
  <div>&nbsp; &nbsp;<span style="color: #001080;">muestraError</span></div>
  <div>&nbsp; } <span style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./lib/muestraError.js"</span></div><br>
  <div>&nbsp; <span style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">params</span> =</div>
  <div>&nbsp; &nbsp;<span style="color: #0000ff;">new</span> <span
     style="color: #267f99;">URL</span>(<span
     style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span>).</div>
  <div>&nbsp; &nbsp; <span
     style="color: #0070c1;">searchParams</span></div><br>
  <div>&nbsp; <span style="color: #795e26;">busca</span>()</div><br>
  <div>&nbsp; <span style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp; &nbsp;* Busca y muestra los datos que</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp; &nbsp;* corresponden al id recibido.</span>
  </div>
  <div><span style="color: #008000;">&nbsp; &nbsp;*/</span></div>
  <div>&nbsp; <span style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">busca</span>() {</div>
  <div>&nbsp; &nbsp;<span style="color: #af00db;">try</span> {</div>
  <div>&nbsp; &nbsp; <span style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">pasatiempo</span> =</div>
  <div>&nbsp; &nbsp; &nbsp;<span style="color: #af00db;">await</span> <span
     style="color: #795e26;">ejecuta</span>(<span
     style="color: #795e26;">fetch</span>(</div>
  <div>&nbsp; &nbsp; &nbsp; <span
     style="color: #a31515;">"srv/SrvPasatiempoBusca.php?"</span></div>
  <div>&nbsp; &nbsp; &nbsp; + <span
     style="color: #0070c1;">params</span>))</div>
  <div>&nbsp; &nbsp; <span style="color: #001080;">forma</span>.<span
     style="color: #001080;">id</span>.<span
     style="color: #001080;">value</span> =</div>
  <div>&nbsp; &nbsp; &nbsp;<span style="color: #0070c1;">pasatiempo</span>.<span
     style="color: #001080;">id</span> || <span
     style="color: #a31515;">""</span></div>
  <div>&nbsp; &nbsp; <span style="color: #001080;">forma</span>.<span
     style="color: #001080;">nombre</span>.<span
     style="color: #001080;">value</span> =</div>
  <div>&nbsp; &nbsp; &nbsp;<span style="color: #0070c1;">pasatiempo</span>.<span
     style="color: #001080;">nombre</span> || <span
     style="color: #a31515;">""</span></div>
  <div>&nbsp; &nbsp; <span style="color: #001080;">btnElimina</span>.<span
     style="color: #795e26;">addEventListener</span>(</div>
  <div>&nbsp; &nbsp; &nbsp;<span style="color: #a31515;">"click"</span>, <span
     style="color: #795e26;">elimina</span>)</div>
  <div>&nbsp; &nbsp; <span style="color: #001080;">forma</span>.<span
     style="color: #795e26;">addEventListener</span>(</div>
  <div>&nbsp; &nbsp; &nbsp;<span style="color: #a31515;">"submit"</span>, <span
     style="color: #795e26;">modifica</span>)</div>
  <div>&nbsp; &nbsp;} <span style="color: #af00db;">catch</span> (<span
     style="color: #001080;">e</span>) {</div>
  <div>&nbsp; &nbsp; <span style="color: #795e26;">muestraError</span>(<span
     style="color: #001080;">e</span>)</div>
  <div>&nbsp; &nbsp; <span style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span> = <span
     style="color: #a31515;">"index.html"</span></div>
  <div>&nbsp; &nbsp;}</div>
  <div>&nbsp; }</div><br>
  <div>&nbsp; <span
     style="color: #008000;">/** @param {Event} evt */</span></div>
  <div>&nbsp; <span style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">modifica</span>(<span
     style="color: #001080;">evt</span>) {</div>
  <div>&nbsp; &nbsp;<span style="color: #af00db;">try</span> {</div>
  <div>&nbsp; &nbsp; <span style="color: #af00db;">await</span> <span
     style="color: #795e26;">submit</span>(<span
     style="color: #001080;">evt</span>,</div>
  <div>&nbsp; &nbsp; &nbsp;<span
     style="color: #a31515;">"srv/SrvPasatiempoModifica.php"</span>,</div>
  <div>&nbsp; &nbsp; &nbsp;<span style="color: #001080;">forma</span>)</div>
  <div>&nbsp; &nbsp; <span style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span> = <span
     style="color: #a31515;">"index.html"</span></div>
  <div>&nbsp; &nbsp;} <span style="color: #af00db;">catch</span> (<span
     style="color: #001080;">e</span>) {</div>
  <div>&nbsp; &nbsp; <span style="color: #795e26;">muestraError</span>(<span
     style="color: #001080;">e</span>)</div>
  <div>&nbsp; &nbsp;}</div>
  <div>&nbsp; }</div><br>
  <div>&nbsp; <span style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">elimina</span>() {</div>
  <div>&nbsp; &nbsp;<span style="color: #af00db;">try</span> {</div>
  <div>&nbsp; &nbsp; <span style="color: #af00db;">if</span> (<span
     style="color: #795e26;">confirm</span>(</div>
  <div>&nbsp; &nbsp; &nbsp;<span
     style="color: #a31515;">"Confirma la eliminaci√≥n"</span>)) {</div>
  <div>&nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">json</span> = <span
     style="color: #af00db;">await</span> <span
     style="color: #795e26;">ejecuta</span>(</div>
  <div>&nbsp; &nbsp; &nbsp; <span style="color: #795e26;">fetch</span>(</div>
  <div>&nbsp; &nbsp; &nbsp; &nbsp;<span
     style="color: #a31515;">"srv/SrvPasatiempoElimina.php?"</span></div>
  <div>&nbsp; &nbsp; &nbsp; &nbsp;+ <span
     style="color: #0070c1;">params</span>))</div>
  <div>&nbsp; &nbsp; &nbsp;<span style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span> = <span
     style="color: #a31515;">"index.html"</span></div>
  <div>&nbsp; &nbsp; }</div>
  <div>&nbsp; &nbsp;} <span style="color: #af00db;">catch</span> (<span
     style="color: #001080;">e</span>) {</div>
  <div>&nbsp; &nbsp; <span style="color: #795e26;">muestraError</span>(<span
     style="color: #001080;">e</span>)</div>
  <div>&nbsp; &nbsp;}</div>
  <div>&nbsp; }</div>
  <div>&nbsp;<span style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>