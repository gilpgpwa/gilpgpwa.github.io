<muestra-codigo>
 <div>
  <div><span style="color: #af00db;">import</span> {</div>
  <div>&nbsp;<span style="color: #001080;">muestraError</span></div>
  <div>} <span style="color: #af00db;">from</span> <span
     style="color: #a31515;">"../lib/js/muestraError.js"</span></div>
  <div><span style="color: #af00db;">import</span> <span
     style="color: #a31515;">"./config.js"</span></div>
  <div><span style="color: #af00db;">import</span> {</div>
  <div>&nbsp;<span style="color: #001080;">pasatiempoBusca</span></div>
  <div>} <span style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./dao/pasatiempoBusca.js"</span></div>
  <div><span style="color: #af00db;">import</span> {</div>
  <div>&nbsp;<span style="color: #001080;">pasatiempoElimina</span></div>
  <div>} <span style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./dao/pasatiempoElimina.js"</span></div>
  <div><span style="color: #af00db;">import</span> {</div>
  <div>&nbsp;<span style="color: #001080;">pasatiempoModifica</span></div>
  <div>} <span style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./dao/pasatiempoModifica.js"</span></div><br>
  <div><span style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">params</span> =</div>
  <div>&nbsp;<span style="color: #0000ff;">new</span> <span
     style="color: #267f99;">URL</span>(<span
     style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span>).</div>
  <div>&nbsp; <span style="color: #0070c1;">searchParams</span></div>
  <div><span style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">uuid</span> = <span
     style="color: #0070c1;">params</span>.<span
     style="color: #795e26;">get</span>(<span
     style="color: #a31515;">"uuid"</span>)</div>
  <div><span style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">form</span> =</div>
  <div>&nbsp;<span style="color: #001080;">document</span>.<span
     style="color: #795e26;">querySelector</span>(<span
     style="color: #a31515;">"form"</span>)</div><br>
  <div><span style="color: #af00db;">if</span> (<span
     style="color: #0070c1;">form</span> !== <span
     style="color: #0000ff;">null</span>) {</div>
  <div>&nbsp;<span style="color: #0070c1;">form</span>.<span
     style="color: #795e26;">addEventListener</span>(<span
     style="color: #a31515;">"submit"</span>,</div>
  <div>&nbsp; <span style="color: #795e26;">guarda</span>)</div>
  <div>&nbsp;<span style="color: #0070c1;">form</span>.<span
     style="color: #001080;">elimina</span>.<span
     style="color: #795e26;">addEventListener</span>(</div>
  <div>&nbsp; <span style="color: #a31515;">"click"</span>, <span
     style="color: #795e26;">elimina</span>)</div>
  <div>}</div>
  <div><span style="color: #795e26;">busca</span>()</div><br>
  <div><span style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">busca</span>() {</div>
  <div>&nbsp;<span style="color: #af00db;">try</span> {</div>
  <div>&nbsp; <span style="color: #af00db;">if</span> (<span
     style="color: #0070c1;">form</span> !== <span
     style="color: #0000ff;">null</span></div>
  <div>&nbsp; &nbsp;&amp;&amp; <span
     style="color: #0070c1;">uuid</span> !== <span
     style="color: #0000ff;">null</span>) {</div>
  <div>&nbsp; &nbsp;<span style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">modelo</span> =</div>
  <div>&nbsp; &nbsp; <span style="color: #af00db;">await</span> <span
     style="color: #795e26;">pasatiempoBusca</span>(<span
     style="color: #0070c1;">uuid</span>)</div>
  <div>&nbsp; &nbsp;<span style="color: #001080;">document</span>.<span
     style="color: #001080;">title</span> = <span
     style="color: #0070c1;">modelo</span>.<span
     style="color: #001080;">nombre</span></div>
  <div>&nbsp; &nbsp;<span style="color: #0070c1;">form</span>.<span
     style="color: #001080;">nombre</span>.<span
     style="color: #001080;">value</span> =</div>
  <div>&nbsp; &nbsp; <span style="color: #0070c1;">modelo</span>.<span
     style="color: #001080;">nombre</span></div>
  <div>&nbsp; }</div>
  <div>&nbsp;} <span style="color: #af00db;">catch</span> (<span
     style="color: #001080;">e</span>) {</div>
  <div>&nbsp; <span style="color: #795e26;">muestraError</span>(<span
     style="color: #001080;">e</span>);</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
  <div><span style="color: #008000;">/** </span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Event}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span><span
     style="color: #008000;"> */</span></div>
  <div><span style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">guarda</span>(<span
     style="color: #001080;">evt</span>) {</div>
  <div>&nbsp;<span style="color: #001080;">evt</span>.<span
     style="color: #795e26;">preventDefault</span>();</div>
  <div>&nbsp;<span style="color: #af00db;">try</span> {</div>
  <div>&nbsp; <span style="color: #af00db;">if</span> (<span
     style="color: #0070c1;">form</span> !== <span
     style="color: #0000ff;">null</span></div>
  <div>&nbsp; &nbsp;&amp;&amp; <span
     style="color: #0070c1;">uuid</span> !== <span
     style="color: #0000ff;">null</span>) {</div>
  <div>&nbsp; &nbsp;<span style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">nombre</span> =</div>
  <div>&nbsp; &nbsp; <span style="color: #0070c1;">form</span>.<span
     style="color: #001080;">nombre</span>.<span
     style="color: #001080;">value</span>.<span
     style="color: #795e26;">trim</span>()</div>
  <div>&nbsp; &nbsp;<span style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">modelo</span> =</div>
  <div>&nbsp; &nbsp; { <span style="color: #001080;">uuid</span>, <span
     style="color: #001080;">nombre</span>, <span
     style="color: #001080;">eliminado</span><span
     style="color: #001080;">:</span> <span
     style="color: #098658;">0</span> }</div>
  <div>&nbsp; &nbsp;<span style="color: #af00db;">await</span> <span
     style="color: #795e26;">pasatiempoModifica</span>(<span
     style="color: #0070c1;">modelo</span>)</div>
  <div>&nbsp; &nbsp;<span style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span> = <span
     style="color: #a31515;">"index.html"</span></div>
  <div>&nbsp; }</div>
  <div>&nbsp;} <span style="color: #af00db;">catch</span> (<span
     style="color: #001080;">e</span>) {</div>
  <div>&nbsp; <span style="color: #795e26;">muestraError</span>(<span
     style="color: #001080;">e</span>);</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
  <div><span style="color: #0000ff;">function</span> <span
     style="color: #795e26;">elimina</span>() {</div>
  <div>&nbsp;<span style="color: #af00db;">try</span> {</div>
  <div>&nbsp; <span style="color: #af00db;">if</span> (<span
     style="color: #0070c1;">uuid</span> !== <span
     style="color: #0000ff;">null</span> &amp;&amp; <span
     style="color: #795e26;">confirm</span>(</div>
  <div>&nbsp; &nbsp;<span
     style="color: #a31515;">"Confirma la eliminaci√≥n"</span>)) {</div>
  <div>&nbsp; &nbsp;<span
     style="color: #795e26;">pasatiempoElimina</span>(<span
     style="color: #0070c1;">uuid</span>)</div>
  <div>&nbsp; &nbsp;<span style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span> = <span
     style="color: #a31515;">"index.html"</span></div>
  <div>&nbsp; }</div>
  <div>&nbsp;} <span style="color: #af00db;">catch</span> (<span
     style="color: #001080;">e</span>) {</div>
  <div>&nbsp; <span style="color: #795e26;">muestraError</span>(<span
     style="color: #001080;">e</span>);</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>