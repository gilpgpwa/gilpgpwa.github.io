<!DOCTYPE html>
<html lang="es">
<head>
 <meta charset="UTF-8">
 <meta name="viewport"
   content="width=device-width">
 <title>Formulario</title>
</head>
<body>
 <form id="form" novalidate
   action="javascript:procesa()">
  <h1>Formulario</h1>
  <p>
   <label for="inGenero">
    *Género
   </label>
   <select id="inGenero" required
     oninput="copiaMensajes()">
    <option value=""></option>
    <option value="pop">
     Pop
    </option>
    <option
      value="reg">
     Reguetón
    </option>
    <option value="tango">
     Tango
    </option>
   </select>
   <small>
    <output id="msgGenero">
     *Requerido
    </output>
   </small>
  </p>
  <p>
   <button>Recomendar</button>
  </p>
  <p>
   <label for="outSalida">
    Resultado
   </label>
   <output id="outSalida">
   </output>
  </p>
 </form>
 <script>
  const REQUERIDO = "*Requerido"

  function procesa() {
   try {
    if (inGenero.validity.valid) {
     const genero = inGenero.value
     if (genero === "pop") {
      outSalida.value =
       "Escucha a Ariana Grande."
     } else if (genero === "reg") {
      outSalida.value =
       "Escucha a Bad Bunny."
     } else {
      outSalida.value =
       "De ese género no conozco."
     }
    } else {
     outSalida.value = ""
    }
   } catch (e) {
    console.error(e)
    outSalida.value = e.message
   }
  }

  function copiaMensajes() {
   msg(inGenero, msgGenero,
    REQUERIDO)
  }

  /** Si un elemento tiene un
   * mensaje de validación, lo
   * muestra en su elemento de
   * ayuda y si no, muestra un
   * texto de ayuda. 
   * @param {HTMLInputElement|
   *  HTMLTextAreaElement|
   *  HTMLSelectElement|
   *  HTMLOutputElement|null} e
   *   referencia a un elemento
   *   que contiene datos.
   * @param {HTMLOutputElement|
   *  null} out  referencia a un
   *   elemento de ayuda para e.
   * @param {string} ok mensaje de
   *   ayuda cuando el estado de e
   *   es válido. */
  function msg(e, out, ok) {
   if (e && out) {
    if (e.validity.valid) {
     out.value = ok
    } else {
     out.value =
      e.validationMessage
    }
   }
  }
 </script>
</body>
</html>